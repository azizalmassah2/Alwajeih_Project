<UserControl
  x:Class="Alwajeih.Views.Dashboard.DashboardView"
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  FlowDirection="RightToLeft"
  xmlns:viewmodels="clr-namespace:Alwajeih.ViewModels.Dashboard"
  FontFamily="{StaticResource Tajawal}"
  FontSize="14"
>
  <UserControl.DataContext>
    <viewmodels:DashboardViewModel />
  </UserControl.DataContext>
  <UserControl.Resources>
    <ResourceDictionary>
      <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="/Resources/Styles/ScrollBarStyles.xaml" />
        <ResourceDictionary Source="/Resources/Styles/DataGrids.xaml" />
        <ResourceDictionary Source="/Resources/Styles/Colors.xaml" />
        <ResourceDictionary Source="/Resources/Styles/Buttons.xaml" />
        <ResourceDictionary Source="/Resources/Styles/MainStyles.xaml" />
      </ResourceDictionary.MergedDictionaries>
    </ResourceDictionary>
  </UserControl.Resources>
  <Grid Background="#F8FAFC">
    <ScrollViewer VerticalScrollBarVisibility="Auto" Style="{StaticResource ModernScrollViewer}">
      <StackPanel Margin="25,20,25,30">
        <!-- Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø­Ø¯ÙŠØ« -->
        <Grid Margin="0,0,0,25">
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="Auto"/>
          </Grid.ColumnDefinitions>
          <StackPanel Grid.Column="0">
            <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
              <TextBlock Text="ðŸ " FontSize="28" Margin="0,0,12,0" VerticalAlignment="Center" />
              <TextBlock
                Text="Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª"
                FontSize="24"
                FontWeight="Bold"
                Foreground="#1E293B"
                VerticalAlignment="Center"
              />
            </StackPanel>
            <TextBlock
              Text="Ù†Ø¸Ø±Ø© Ø´Ø§Ù…Ù„Ø© Ø¹Ù„Ù‰ Ø£Ø¯Ø§Ø¡ Ø§Ù„Ù†Ø¸Ø§Ù… ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø­ÙŠØ©"
              FontSize="14"
              Foreground="#64748B"
              Margin="40,0,0,0"
            />
          </StackPanel>
          <Button
            Grid.Column="1"
            Content="ðŸ”„ ØªØ­Ø¯ÙŠØ«"
            Style="{StaticResource PrimaryButton}"
            Width="120"
            Height="42"
            FontSize="14"
            Command="{Binding RefreshDataCommand}"
            VerticalAlignment="Center"
          />
        </Grid>
        <!-- Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª -->
        <Grid Margin="0,0,0,20">
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" MinWidth="140" />
            <ColumnDefinition Width="*" MinWidth="140" />
            <ColumnDefinition Width="*" MinWidth="140" />
            <ColumnDefinition Width="*" MinWidth="140" />
            <ColumnDefinition Width="*" MinWidth="140" />
          </Grid.ColumnDefinitions>
          <!-- Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ -->
          <Border Grid.Column="0" CornerRadius="14" Padding="20" Margin="0,0,10,0">
            <Border.Background>
              <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                <GradientStop Color="#667EEA" Offset="0"/>
                <GradientStop Color="#764BA2" Offset="1"/>
              </LinearGradientBrush>
            </Border.Background>
            <Border.Effect>
              <DropShadowEffect Color="#667EEA" Direction="0" ShadowDepth="0" BlurRadius="20" Opacity="0.3"/>
            </Border.Effect>
            <Grid>
              <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
              </Grid.RowDefinitions>
              <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,15">
                <Border Background="#FFFFFF25" CornerRadius="10" Width="45" Height="45" Padding="8">
                  <TextBlock Text="ðŸ‘¥" FontSize="24" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                </Border>
                <TextBlock Text="Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡" FontSize="14" Foreground="White" Opacity="0.9" VerticalAlignment="Center" Margin="12,0,0,0"/>
              </StackPanel>
              <StackPanel Grid.Row="1">
                <TextBlock Text="{Binding TotalMembers}" FontSize="36" FontWeight="Bold" Foreground="White" Margin="0,0,0,4"/>
                <TextBlock Text="Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ù†Ø´Ø·ÙŠÙ†" FontSize="12" Foreground="White" Opacity="0.8"/>
              </StackPanel>
            </Grid>
          </Border>
          <!-- Ø§Ù„Ø­ØµØµ Ø§Ù„Ù†Ø´Ø·Ø© -->
          <Border Grid.Column="1" CornerRadius="14" Padding="20" Margin="0,0,10,0">
            <Border.Background>
              <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                <GradientStop Color="#4FD1C5" Offset="0"/>
                <GradientStop Color="#38B2AC" Offset="1"/>
              </LinearGradientBrush>
            </Border.Background>
            <Border.Effect>
              <DropShadowEffect Color="#4FD1C5" Direction="0" ShadowDepth="0" BlurRadius="20" Opacity="0.3"/>
            </Border.Effect>
            <Grid>
              <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
              </Grid.RowDefinitions>
              <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,15">
                <Border Background="#FFFFFF25" CornerRadius="10" Width="45" Height="45" Padding="8">
                  <TextBlock Text="ðŸ“Š" FontSize="24" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                </Border>
                <TextBlock Text="Ø§Ù„Ø£Ø³Ù‡Ù…" FontSize="14" Foreground="White" Opacity="0.9" VerticalAlignment="Center" Margin="12,0,0,0"/>
              </StackPanel>
              <StackPanel Grid.Row="1">
                <TextBlock Text="{Binding ActivePlans}" FontSize="36" FontWeight="Bold" Foreground="White" Margin="0,0,0,4"/>
                <TextBlock Text="Ø³Ù‡Ù… Ù†Ø´Ø· Ø­Ø§Ù„ÙŠØ§Ù‹" FontSize="12" Foreground="White" Opacity="0.8"/>
              </StackPanel>
            </Grid>
          </Border>
          <!-- Ø±ØµÙŠØ¯ Ø§Ù„Ø®Ø²Ù†Ø© -->
          <Border Grid.Column="2" CornerRadius="14" Padding="20" Margin="0,0,10,0">
            <Border.Background>
              <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                <GradientStop Color="#2563EB" Offset="0"/>
                <GradientStop Color="#3B82F6" Offset="0.5"/>
                <GradientStop Color="#60A5FA" Offset="1"/>
              </LinearGradientBrush>
            </Border.Background>
            <Border.Effect>
              <DropShadowEffect Color="#2563EB" Direction="0" ShadowDepth="0" BlurRadius="20" Opacity="0.3"/>
            </Border.Effect>
            <Grid>
              <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
              </Grid.RowDefinitions>
              <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,15">
                <Border Background="#FFFFFF25" CornerRadius="10" Width="45" Height="45" Padding="8">
                  <TextBlock Text="ðŸ’°" FontSize="24" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                </Border>
                <TextBlock Text="Ø§Ù„Ø®Ø²Ù†Ø©" FontSize="14" Foreground="White" Opacity="0.9" VerticalAlignment="Center" Margin="12,0,0,0"/>
              </StackPanel>
              <StackPanel Grid.Row="1">
                <TextBlock FontSize="36" FontWeight="Bold" Foreground="White" Margin="0,0,0,4">
                  <Run Text="{Binding VaultBalance, StringFormat=N0}"/>
                </TextBlock>
                <TextBlock Text="Ø±ÙŠØ§Ù„ - Ø±ØµÙŠØ¯ Ø§Ù„Ø®Ø²Ù†Ø©" FontSize="12" Foreground="White" Opacity="0.8"/>
              </StackPanel>
            </Grid>
          </Border>
          <!-- Ø®Ù„Ù Ø§Ù„Ø¬Ù…Ø¹ÙŠØ© -->
          <Border Grid.Column="3" CornerRadius="14" Padding="20" Margin="0,0,10,0">
            <Border.Background>
              <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                <GradientStop Color="#F59E0B" Offset="0"/>
                <GradientStop Color="#D97706" Offset="1"/>
              </LinearGradientBrush>
            </Border.Background>
            <Border.Effect>
              <DropShadowEffect Color="#F59E0B" Direction="0" ShadowDepth="0" BlurRadius="20" Opacity="0.3"/>
            </Border.Effect>
            <Grid>
              <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
              </Grid.RowDefinitions>
              <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,15">
                <Border Background="#FFFFFF25" CornerRadius="10" Width="45" Height="45" Padding="8">
                  <TextBlock Text="ðŸ’°" FontSize="24" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                </Border>
                <TextBlock Text="Ø®Ù„Ù Ø§Ù„Ø¬Ù…Ø¹ÙŠØ©" FontSize="14" Foreground="White" Opacity="0.9" VerticalAlignment="Center" Margin="12,0,0,0"/>
              </StackPanel>
              <StackPanel Grid.Row="1">
                <TextBlock Text="{Binding BehindAssociationMembers}" FontSize="36" FontWeight="Bold" Foreground="White" Margin="0,0,0,4"/>
                <TextBlock Text="Ø¹Ø¶Ùˆ Ù†Ø¸Ø§Ù… Ø£Ù…Ø§Ù†Ø©" FontSize="12" Foreground="White" Opacity="0.8"/>
              </StackPanel>
            </Grid>
          </Border>
          
          <!-- Ø§Ù„Ø³ÙˆØ§Ø¨Ù‚ -->
          <Border Grid.Column="4" CornerRadius="14" Padding="20">
            <Border.Background>
              <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                <GradientStop Color="#FC8181" Offset="0"/>
                <GradientStop Color="#F56565" Offset="1"/>
              </LinearGradientBrush>
            </Border.Background>
            <Border.Effect>
              <DropShadowEffect Color="#FC8181" Direction="0" ShadowDepth="0" BlurRadius="20" Opacity="0.3"/>
            </Border.Effect>
            <Grid>
              <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
              </Grid.RowDefinitions>
              <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,15">
                <Border Background="#FFFFFF25" CornerRadius="10" Width="45" Height="45" Padding="8">
                  <TextBlock Text="âš ï¸" FontSize="24" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                </Border>
                <TextBlock Text="Ø§Ù„Ø³ÙˆØ§Ø¨Ù‚" FontSize="14" Foreground="White" Opacity="0.9" VerticalAlignment="Center" Margin="12,0,0,0"/>
              </StackPanel>
              <StackPanel Grid.Row="1">
                <TextBlock Text="{Binding TotalArrears}" FontSize="36" FontWeight="Bold" Foreground="White" Margin="0,0,0,4"/>
                <TextBlock Text="Ø³Ø§Ø¨Ù‚ ÙŠØ­ØªØ§Ø¬ Ù…ØªØ§Ø¨Ø¹Ø©" FontSize="12" Foreground="White" Opacity="0.8"/>
              </StackPanel>
            </Grid>
          </Border>
        </Grid>
        <!-- ØµÙ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© -->
        <Grid Margin="0,0,0,25">
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="2*"/>
            <ColumnDefinition Width="15"/>
            <ColumnDefinition Width="*"/>
          </Grid.ColumnDefinitions>
          
          <!-- Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø­Ø§Ù„ÙŠ -->
          <Border Grid.Column="0" Background="White" CornerRadius="14" Padding="25">
            <Border.Effect>
              <DropShadowEffect Color="Black" ShadowDepth="0" BlurRadius="15" Opacity="0.06"/>
            </Border.Effect>
            <StackPanel>
              <TextBlock Text="ðŸ“ˆ Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø­Ø§Ù„ÙŠ" FontSize="18" FontWeight="Bold" Foreground="#1E293B" Margin="0,0,0,20"/>
              
              <Grid>
                <Grid.ColumnDefinitions>
                  <ColumnDefinition Width="*"/>
                  <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                  <RowDefinition Height="Auto"/>
                  <RowDefinition Height="Auto"/>
                  <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                
                <!-- Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø³ØªØ­Ù‚ -->
                <Border Grid.Row="0" Grid.Column="0" Background="#EFF6FF" CornerRadius="10" Padding="15" Margin="0,0,8,8">
                  <StackPanel>
                    <TextBlock Text="Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø³ØªØ­Ù‚" FontSize="13" Foreground="#3B82F6" Margin="0,0,0,8"/>
                    <TextBlock FontSize="24" FontWeight="Bold" Foreground="#1E40AF">
                      <Run Text="{Binding TodayDueCollections, StringFormat=N0}"/>
                    </TextBlock>
                    <TextBlock Text="Ø±ÙŠØ§Ù„" FontSize="12" Foreground="#64748B"/>
                  </StackPanel>
                </Border>
                
                <!-- Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø­ØµÙ‘Ù„ -->
                <Border Grid.Row="0" Grid.Column="1" Background="#F0FDF4" CornerRadius="10" Padding="15" Margin="8,0,0,8">
                  <StackPanel>
                    <TextBlock Text="Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø­ØµÙ‘Ù„" FontSize="13" Foreground="#10B981" Margin="0,0,0,8"/>
                    <TextBlock FontSize="24" FontWeight="Bold" Foreground="#047857">
                      <Run Text="{Binding TodayCollected, StringFormat=N0}"/>
                    </TextBlock>
                    <TextBlock Text="Ø±ÙŠØ§Ù„" FontSize="12" Foreground="#64748B"/>
                  </StackPanel>
                </Border>
                
                <!-- Ø§Ù„Ù…ØªØ£Ø®Ø±Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ© -->
                <Border Grid.Row="1" Grid.Column="0" Background="#FEF2F2" CornerRadius="10" Padding="15" Margin="0,0,8,8">
                  <StackPanel>
                    <TextBlock Text="Ù…ØªØ£Ø®Ø±Ø§Øª Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹" FontSize="13" Foreground="#EF4444" Margin="0,0,0,8"/>
                    <TextBlock Text="{Binding CurrentWeekArrearsCount}" FontSize="24" FontWeight="Bold" Foreground="#DC2626"/>
                    <TextBlock Text="Ø¹Ø¶Ùˆ" FontSize="12" Foreground="#64748B"/>
                  </StackPanel>
                </Border>
                
                <!-- Ù†Ø³Ø¨Ø© Ø§Ù„ØªØ­ØµÙŠÙ„ -->
                <Border Grid.Row="1" Grid.Column="1" Background="#F5F3FF" CornerRadius="10" Padding="15" Margin="8,0,0,8">
                  <StackPanel>
                    <TextBlock Text="Ù†Ø³Ø¨Ø© Ø§Ù„ØªØ­ØµÙŠÙ„" FontSize="13" Foreground="#8B5CF6" Margin="0,0,0,8"/>
                    <TextBlock FontSize="24" FontWeight="Bold" Foreground="#7C3AED">
                      <Run Text="{Binding CollectionPercentage, StringFormat=N1}"/>
                      <Run Text="%"/>
                    </TextBlock>
                    <TextBlock Text="Ù…Ù† Ø§Ù„Ù…Ø³ØªØ­Ù‚" FontSize="12" Foreground="#64748B"/>
                  </StackPanel>
                </Border>
              </Grid>
            </StackPanel>
          </Border>
          
          <!-- Ù†Ø´Ø§Ø· Ø³Ø±ÙŠØ¹ -->
          <Border Grid.Column="2" Background="White" CornerRadius="14" Padding="20">
            <Border.Effect>
              <DropShadowEffect Color="Black" ShadowDepth="0" BlurRadius="15" Opacity="0.06"/>
            </Border.Effect>
            <StackPanel>
              <TextBlock Text="âš¡ Ù†Ø´Ø§Ø· Ø³Ø±ÙŠØ¹" FontSize="16" FontWeight="Bold" Foreground="#1E293B" Margin="0,0,0,15"/>
              
              <Border Background="#F8FAFC" CornerRadius="8" Padding="12" Margin="0,0,0,10">
                <StackPanel Orientation="Horizontal">
                  <TextBlock Text="ðŸ“…" FontSize="20" Margin="0,0,10,0"/>
                  <StackPanel>
                    <TextBlock Text="Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø­Ø§Ù„ÙŠ" FontSize="12" Foreground="#64748B"/>
                    <TextBlock Text="{Binding CurrentWeek}" FontSize="16" FontWeight="Bold" Foreground="#1E293B"/>
                  </StackPanel>
                </StackPanel>
              </Border>
              
              <Border Background="#F8FAFC" CornerRadius="8" Padding="12" Margin="0,0,0,10">
                <StackPanel Orientation="Horizontal">
                  <TextBlock Text="ðŸ“Š" FontSize="20" Margin="0,0,10,0"/>
                  <StackPanel>
                    <TextBlock Text="Ø§Ù„ÙŠÙˆÙ…" FontSize="12" Foreground="#64748B"/>
                    <TextBlock Text="{Binding CurrentDay}" FontSize="16" FontWeight="Bold" Foreground="#1E293B"/>
                  </StackPanel>
                </StackPanel>
              </Border>
              
              <Border Background="#F8FAFC" CornerRadius="8" Padding="12">
                <StackPanel Orientation="Horizontal">
                  <TextBlock Text="ðŸ‘¥" FontSize="20" Margin="0,0,10,0"/>
                  <StackPanel>
                    <TextBlock Text="Ø£Ø¹Ø¶Ø§Ø¡ Ù„Ø¯ÙŠÙ‡Ù… Ø³ÙˆØ§Ø¨Ù‚" FontSize="12" Foreground="#64748B"/>
                    <TextBlock Text="{Binding TotalArrears}" FontSize="16" FontWeight="Bold" Foreground="#EF4444"/>
                  </StackPanel>
                </StackPanel>
              </Border>
            </StackPanel>
          </Border>
        </Grid>
      </StackPanel>
    </ScrollViewer>
  </Grid>
</UserControl>
