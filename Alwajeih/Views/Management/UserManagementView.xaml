<UserControl
  x:Class="Alwajeih.Views.Management.UserManagementView"
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  FlowDirection="RightToLeft"
  FontFamily="{StaticResource Tajawal}"
  FontSize="14"
  xmlns:vm="clr-namespace:Alwajeih.ViewModels.Management"
>
  <UserControl.DataContext>
    <vm:UserManagementViewModel />
  </UserControl.DataContext>
  <UserControl.Resources>
    <ResourceDictionary>
      <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="/Resources/Styles/ScrollBarStyles.xaml" />
        <ResourceDictionary Source="/Resources/Styles/DataGrids.xaml" />
        <ResourceDictionary Source="/Resources/Styles/Colors.xaml" />
        <ResourceDictionary Source="/Resources/Styles/Buttons.xaml" />
        <ResourceDictionary Source="/Resources/Styles/TextBoxes.xaml" />
        <ResourceDictionary Source="/Resources/Styles/MainStyles.xaml" />
      </ResourceDictionary.MergedDictionaries>
    </ResourceDictionary>
  </UserControl.Resources>
  <Grid Background="#F8FAFC">
    <ScrollViewer VerticalScrollBarVisibility="Auto" Style="{StaticResource ModernScrollViewer}">
      <StackPanel Margin="20,20">
        <!-- Ø§Ù„Ø¹Ù†ÙˆØ§Ù† -->
        <StackPanel Margin="0,0,0,20">
          <StackPanel Orientation="Horizontal" Margin="0,0,0,6">
            <TextBlock Text="ðŸ‘¤" FontSize="24" Margin="0,0,10,0" VerticalAlignment="Center" />
            <TextBlock
              Text="Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†"
              FontSize="22"
              FontWeight="Bold"
              Foreground="#1E293B"
              VerticalAlignment="Center"
            />
          </StackPanel>
          <TextBlock
            Text="Ø¥Ø¶Ø§ÙØ© ÙˆØªØ¹Ø¯ÙŠÙ„ Ù…Ø³ØªØ®Ø¯Ù…ÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…"
            FontSize="13" Foreground="#64748B" Margin="34,0,0,0"
          />
        </StackPanel>
        <Grid Margin="0">
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" MinWidth="150" />
            <ColumnDefinition Width="320" />
          </Grid.ColumnDefinitions>
          <Border
            Grid.Column="0"
            Background="White"
            CornerRadius="12" Padding="20"
            Margin="0,0,15,0"
          >
            <Border.Effect>
              <DropShadowEffect Color="Black" BlurRadius="8" ShadowDepth="0" Opacity="0.08" />
            </Border.Effect>
            <StackPanel>
              <TextBlock
                Text="ðŸ‘¥ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†"
                FontSize="16"
                FontWeight="SemiBold"
                Foreground="#1E293B"
                Margin="0,0,0,12"
              />
              <!-- DataGrid Ù…Ø¹ Border -->
              <Border
                CornerRadius="8"
                BorderBrush="#E2E8F0"
                BorderThickness="1"
                Background="White"
                Margin="0,0,0,0"
              >
                <DataGrid
                  ItemsSource="{Binding Users}"
                  SelectedItem="{Binding SelectedUser}"
                  Height="560"
                  AutoGenerateColumns="False"
                  IsReadOnly="True"
                  Style="{StaticResource ModernDataGrid}"
                >
                  <DataGrid.Columns>
                    <DataGridTextColumn Header="Ø§Ù„Ù…Ø¹Ø±Ù" Binding="{Binding UserID}" Width="Auto" MinWidth="80" />
                    <DataGridTextColumn
                      Header="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…"
                      Binding="{Binding Username}"
                      Width="*" MinWidth="150"
                    />
                    <DataGridTextColumn Header="Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©" Binding="{Binding Role}" Width="Auto" MinWidth="100" />
                    <DataGridCheckBoxColumn Header="Ù†Ø´Ø·" Binding="{Binding IsActive}" Width="Auto" MinWidth="80" />
                  </DataGrid.Columns>
                </DataGrid>
              </Border>
            </StackPanel>
          </Border>
          <Border Grid.Column="1" Background="White" CornerRadius="12" Padding="20">
            <Border.Effect>
              <DropShadowEffect Color="Black" BlurRadius="8" ShadowDepth="0" Opacity="0.08" />
            </Border.Effect>
            <StackPanel>
              <TextBlock
                Text="âž• Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªØ®Ø¯Ù…"
                FontSize="16"
                FontWeight="SemiBold"
                Foreground="#1E293B"
                Margin="0,0,0,20"
              />
              <TextBlock
                Text="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… *"
                FontSize="13"
                FontWeight="Medium"
                Foreground="#475569"
                Margin="0,0,0,6"
              />
              <TextBox
                Text="{Binding Username}"
                Height="40"
                Padding="12,0"
                BorderBrush="#E2E8F0"
                Margin="0,0,0,15"
              />
              <TextBlock
                Text="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± *"
                FontSize="13"
                FontWeight="Medium"
                Foreground="#475569"
                Margin="0,0,0,6"
              />
              <PasswordBox
                x:Name="PasswordBox"
                Height="40"
                Padding="12,0"
                BorderBrush="#E2E8F0"
                Margin="0,0,0,15"
              />
              <TextBlock
                Text="Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ© *"
                FontSize="13"
                FontWeight="Medium"
                Foreground="#475569"
                Margin="0,0,0,6"
              />
              <ComboBox
                SelectedItem="{Binding SelectedRole}"
                Height="40"
                Padding="12,0"
                BorderBrush="#E2E8F0"
                Margin="0,0,0,15"
              >
                <ComboBoxItem Content="ðŸ‘¨â€ðŸ’¼ Ù…Ø¯ÙŠØ±" Tag="Manager" />
                <ComboBoxItem Content="ðŸ’µ ØµØ±Ø§Ù" Tag="Cashier" />
                <ComboBoxItem Content="ðŸ‘ï¸ Ø¹Ø§Ø±Ø¶" Tag="Viewer" IsSelected="True" />
              </ComboBox>
              <CheckBox Content="Ù†Ø´Ø·" IsChecked="{Binding IsActive}" Margin="0,20,0,25" />
              <Button
                Command="{Binding AddUserCommand}"
                Style="{StaticResource SuccessButton}"
                Height="50"
                Margin="0,0,0,10"
              >
                <StackPanel Orientation="Horizontal">
                  <TextBlock Text="âœ…" FontSize="18" Margin="0,0,10,0" />
                  <TextBlock Text="Ø¥Ø¶Ø§ÙØ©" FontSize="16" />
                </StackPanel>
              </Button>
              <Button
                Command="{Binding DeleteUserCommand}"
                Style="{StaticResource DangerButton}"
                Height="45"
              >
                <StackPanel Orientation="Horizontal">
                  <TextBlock Text="ðŸ—‘ï¸" FontSize="16" Margin="0,0,10,0" />
                  <TextBlock Text="Ø­Ø°Ù Ø§Ù„Ù…Ø­Ø¯Ø¯" />
                </StackPanel>
              </Button>
            </StackPanel>
          </Border>
        </Grid>
      </StackPanel>
    </ScrollViewer>
  </Grid>
</UserControl>
