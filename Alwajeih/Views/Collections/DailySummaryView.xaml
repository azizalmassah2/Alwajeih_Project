<UserControl x:Class="Alwajeih.Views.Collections.DailySummaryView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             FlowDirection="RightToLeft"
             FontFamily="{StaticResource Tajawal}"
             FontSize="14">
    
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/Resources/Styles/ScrollBarStyles.xaml" />
                <ResourceDictionary Source="/Resources/Styles/Colors.xaml"/>
                <ResourceDictionary Source="/Resources/Styles/Buttons.xaml"/>
                <ResourceDictionary Source="/Resources/Styles/MainStyles.xaml"/>
                <ResourceDictionary Source="/Resources/Styles/DataGrids.xaml"/>
            </ResourceDictionary.MergedDictionaries>
            
            <!-- Converters -->
            <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>
        </ResourceDictionary>
    </UserControl.Resources>
    
    <Grid Background="#F8FAFC">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        
        <!-- Ø§Ù„Ù‡ÙŠØ¯Ø± -->
        <Border Grid.Row="0" Background="White" Padding="20,15" BorderBrush="#E2E8F0" BorderThickness="0,0,0,1">
            <Border.Effect>
                <DropShadowEffect Color="Black" BlurRadius="8" ShadowDepth="0" Opacity="0.06"/>
            </Border.Effect>
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <!-- Ø§Ù„Ø¹Ù†ÙˆØ§Ù† -->
                <StackPanel Grid.Column="0" VerticalAlignment="Center">
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                        <TextBlock Text="ðŸ“Š" FontSize="24" Margin="0,0,10,0" VerticalAlignment="Center"/>
                        <TextBlock Text="Ù…Ù„Ø®Øµ Ø§Ù„ÙŠÙˆÙ…" 
                                 FontSize="22" 
                                 FontWeight="Bold"
                                 Foreground="#1E293B"
                                 VerticalAlignment="Center"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal">
                        <TextBlock FontSize="13" Foreground="#64748B">
                            <Run Text="Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹"/>
                            <Run Text="{Binding CurrentWeek}" FontWeight="SemiBold"/>
                            <Run Text=" - "/>
                            <Run Text="{Binding DayName}" FontWeight="SemiBold"/>
                            <Run Text=" - "/>
                            <Run Text="{Binding CurrentDate, StringFormat=yyyy/MM/dd}" FontWeight="SemiBold"/>
                        </TextBlock>
                    </StackPanel>
                </StackPanel>
                
                <!-- Ø²Ø± Ø§Ù„ØªØ­Ø¯ÙŠØ« -->
                <Button Grid.Column="1"
                        Command="{Binding RefreshCommand}"
                        Style="{StaticResource SecondaryButton}"
                        Width="50"
                        Height="50"
                        Padding="0">
                    <TextBlock Text="ðŸ”„" FontSize="20"/>
                </Button>
            </Grid>
        </Border>
        
        <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <StackPanel Margin="20">
                
                <!-- Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
                <Grid Margin="0,0,0,20">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    
                    <!-- Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ Ø§Ù„ÙŠÙˆÙ… -->
                    <Border Grid.Column="0" Background="White" CornerRadius="12" Padding="20" Margin="0,0,10,0" BorderBrush="#E2E8F0" BorderThickness="1">
                        <Border.Effect>
                            <DropShadowEffect Color="Black" BlurRadius="8" ShadowDepth="0" Opacity="0.06"/>
                        </Border.Effect>
                        <StackPanel>
                            <TextBlock Text="ðŸ“‹" FontSize="28" HorizontalAlignment="Center" Margin="0,0,0,10"/>
                            <TextBlock Text="Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø·Ù„ÙˆØ¨" FontSize="13" Foreground="#64748B" HorizontalAlignment="Center" Margin="0,0,0,5"/>
                            <TextBlock Text="(Ù…Ø§ Ø¹Ù„ÙŠÙƒÙ… Ø§Ù„ÙŠÙˆÙ…)" FontSize="10" Foreground="#94A3B8" HorizontalAlignment="Center" Margin="0,0,0,8"/>
                            <TextBlock FontSize="24" FontWeight="Bold" Foreground="#F59E0B" HorizontalAlignment="Center">
                                <Run Text="{Binding TotalExpected, StringFormat=N2}"/>
                                <Run Text=" Ø±ÙŠØ§Ù„" FontSize="13" Foreground="#64748B"/>
                            </TextBlock>
                        </StackPanel>
                    </Border>
                    
                    <!-- Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ØªØ­ØµÙŠÙ„ -->
                    <Border Grid.Column="1" Background="White" CornerRadius="12" Padding="20" Margin="0,0,10,0" BorderBrush="#E2E8F0" BorderThickness="1">
                        <Border.Effect>
                            <DropShadowEffect Color="Black" BlurRadius="8" ShadowDepth="0" Opacity="0.06"/>
                        </Border.Effect>
                        <StackPanel>
                            <TextBlock Text="ðŸ’°" FontSize="28" HorizontalAlignment="Center" Margin="0,0,0,10"/>
                            <TextBlock Text="Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ØªØ­ØµÙŠÙ„" FontSize="13" Foreground="#64748B" HorizontalAlignment="Center" Margin="0,0,0,5"/>
                            <TextBlock Text="(Ø¹Ø§Ø¯ÙŠ + Ø³Ø§Ø¨Ù‚Ø§Øª Ù…Ù†ÙØµÙ„Ø©)" FontSize="10" Foreground="#94A3B8" HorizontalAlignment="Center" Margin="0,0,0,8"/>
                            <TextBlock FontSize="24" FontWeight="Bold" Foreground="#10B981" HorizontalAlignment="Center">
                                <Run Text="{Binding TotalDayCollection, StringFormat=N2}"/>
                                <Run Text=" Ø±ÙŠØ§Ù„" FontSize="13" Foreground="#64748B"/>
                            </TextBlock>
                        </StackPanel>
                    </Border>
                    
                    <!-- Ø§Ù„Ù…ØªØ£Ø®Ø±Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© -->
                    <Border Grid.Column="2" Background="White" CornerRadius="12" Padding="20" Margin="0,0,10,0" BorderBrush="#E2E8F0" BorderThickness="1">
                        <Border.Effect>
                            <DropShadowEffect Color="Black" BlurRadius="8" ShadowDepth="0" Opacity="0.06"/>
                        </Border.Effect>
                        <StackPanel>
                            <TextBlock Text="â°" FontSize="28" HorizontalAlignment="Center" Margin="0,0,0,10"/>
                            <TextBlock Text="Ø§Ù„Ù…ØªØ£Ø®Ø±Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©" FontSize="13" Foreground="#64748B" HorizontalAlignment="Center" Margin="0,0,0,5"/>
                            <TextBlock Text="(Ù…Ù† Ø§Ù„ÙŠÙˆÙ…)" FontSize="10" Foreground="#94A3B8" HorizontalAlignment="Center" Margin="0,0,0,8"/>
                            <TextBlock FontSize="24" FontWeight="Bold" Foreground="#EF4444" HorizontalAlignment="Center">
                                <Run Text="{Binding TotalRemaining, StringFormat=N2}"/>
                                <Run Text=" Ø±ÙŠØ§Ù„" FontSize="13" Foreground="#64748B"/>
                            </TextBlock>
                        </StackPanel>
                    </Border>
                    
                    <!-- Ø§Ù„Ø®Ø±Ø¬ÙŠØ§Øª ÙˆØ§Ù„Ù…ÙÙ‚ÙˆØ¯Ø§Øª -->
                    <Border Grid.Column="3" Background="White" CornerRadius="12" Padding="20" BorderBrush="#E2E8F0" BorderThickness="1">
                        <Border.Effect>
                            <DropShadowEffect Color="Black" BlurRadius="8" ShadowDepth="0" Opacity="0.06"/>
                        </Border.Effect>
                        <StackPanel>
                            <TextBlock Text="ðŸ“¦" FontSize="28" HorizontalAlignment="Center" Margin="0,0,0,10"/>
                            <TextBlock Text="Ø§Ù„Ø®Ø±Ø¬ÙŠØ§Øª" FontSize="13" Foreground="#64748B" HorizontalAlignment="Center" Margin="0,0,0,5"/>
                            <TextBlock Text="(Ù…ÙÙ‚ÙˆØ¯ + Ù…ØµØ±ÙˆÙ)" FontSize="10" Foreground="#94A3B8" HorizontalAlignment="Center" Margin="0,0,0,8"/>
                            <TextBlock FontSize="24" FontWeight="Bold" Foreground="#EF4444" HorizontalAlignment="Center">
                                <Run Text="{Binding OtherTransactions, StringFormat=N2}"/>
                                <Run Text=" Ø±ÙŠØ§Ù„" FontSize="13" Foreground="#64748B"/>
                            </TextBlock>
                        </StackPanel>
                    </Border>
                </Grid>
                
                <!-- ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØªØ­ØµÙŠÙ„ -->
                <Border Background="White" CornerRadius="12" Padding="20" Margin="0,0,0,20" BorderBrush="#E2E8F0" BorderThickness="1">
                    <Border.Effect>
                        <DropShadowEffect Color="Black" BlurRadius="8" ShadowDepth="0" Opacity="0.06"/>
                    </Border.Effect>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <!-- Ø³Ø¯Ø§Ø¯ Ø§Ù„ÙŠÙˆÙ… (Ø¯ÙØ¹ Ø¹Ø§Ø¯ÙŠ) -->
                        <Border Grid.Column="0" Background="#EFF6FF" CornerRadius="10" Padding="15" Margin="0,0,10,0" BorderBrush="#BFDBFE" BorderThickness="1">
                            <StackPanel>
                                <TextBlock Text="ðŸ“… ØªØ­ØµÙŠÙ„ Ø¹Ø§Ø¯ÙŠ" FontSize="12" Foreground="#1E40AF" HorizontalAlignment="Center" Margin="0,0,0,3"/>
                                <TextBlock Text="(Ø¯ÙØ¹Ø§Øª Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡)" FontSize="9" Foreground="#60A5FA" HorizontalAlignment="Center" Margin="0,0,0,5"/>
                                <TextBlock FontSize="18" FontWeight="Bold" Foreground="#3B82F6" HorizontalAlignment="Center">
                                    <Run Text="{Binding TodayPayments, StringFormat=N2}"/>
                                    <Run Text=" Ø±ÙŠØ§Ù„" FontSize="11" Foreground="#64748B"/>
                                </TextBlock>
                            </StackPanel>
                        </Border>
                        
                        <!-- Ø³Ø¯Ø§Ø¯ Ø§Ù„Ù…ØªØ£Ø®Ø±Ø§Øª (Ù…Ø¶Ù…Ù† ÙÙŠ Ø§Ù„ØªØ­ØµÙŠÙ„ Ø§Ù„Ø¹Ø§Ø¯ÙŠ) -->
                        <Border Grid.Column="1" Background="#FEF3C7" CornerRadius="10" Padding="15" Margin="0,0,10,0" BorderBrush="#FDE68A" BorderThickness="1">
                            <StackPanel>
                                <TextBlock Text="âš ï¸ Ø³Ø¯Ø§Ø¯ Ù…ØªØ£Ø®Ø±Ø§Øª" FontSize="12" Foreground="#92400E" HorizontalAlignment="Center" Margin="0,0,0,3"/>
                                <TextBlock Text="(Ù…Ø¶Ù…Ù† Ø¨Ø§Ù„Ø¹Ø§Ø¯ÙŠ)" FontSize="9" Foreground="#FBBF24" HorizontalAlignment="Center" Margin="0,0,0,5"/>
                                <TextBlock FontSize="18" FontWeight="Bold" Foreground="#F59E0B" HorizontalAlignment="Center">
                                    <Run Text="{Binding ArrearsPayments, StringFormat=N2}"/>
                                    <Run Text=" Ø±ÙŠØ§Ù„" FontSize="11" Foreground="#64748B"/>
                                </TextBlock>
                            </StackPanel>
                        </Border>
                        
                        <!-- Ø³Ø¯Ø§Ø¯ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø§Øª (Ù…Ù†ÙØµÙ„) -->
                        <Border Grid.Column="2" Background="#FECACA" CornerRadius="10" Padding="15" Margin="0,0,10,0" BorderBrush="#FCA5A5" BorderThickness="1">
                            <StackPanel>
                                <TextBlock Text="ðŸ“Š Ø³Ø¯Ø§Ø¯ Ø³Ø§Ø¨Ù‚Ø§Øª" FontSize="12" Foreground="#7F1D1D" HorizontalAlignment="Center" Margin="0,0,0,3"/>
                                <TextBlock Text="(Ù…ØªØ±Ø§ÙƒÙ…Ø© - Ù…Ù†ÙØµÙ„)" FontSize="9" Foreground="#F87171" HorizontalAlignment="Center" Margin="0,0,0,5"/>
                                <TextBlock FontSize="18" FontWeight="Bold" Foreground="#DC2626" HorizontalAlignment="Center">
                                    <Run Text="{Binding PreviousBalancePayments, StringFormat=N2}"/>
                                    <Run Text=" Ø±ÙŠØ§Ù„" FontSize="11" Foreground="#64748B"/>
                                </TextBlock>
                            </StackPanel>
                        </Border>
                        
                        <!-- Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„ÙØ¹Ù„ÙŠ -->
                        <Border Grid.Column="3" Background="#DCFCE7" CornerRadius="10" Padding="15" BorderBrush="#86EFAC" BorderThickness="1">
                            <StackPanel>
                                <TextBlock Text="ðŸ’µ Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„ÙØ¹Ù„ÙŠ" FontSize="12" Foreground="#15803D" HorizontalAlignment="Center" Margin="0,0,0,5"/>
                                <TextBox Text="{Binding ActualCashCollected, UpdateSourceTrigger=PropertyChanged, StringFormat=N2}"
                                       FontSize="16"
                                       FontWeight="Bold"
                                       Foreground="#10B981"
                                       HorizontalContentAlignment="Center"
                                       Padding="8,5"
                                       BorderBrush="#86EFAC"
                                       BorderThickness="1"
                                       Background="White"
                                       FlowDirection="LeftToRight">
                                    <TextBox.Style>
                                        <Style TargetType="TextBox">
                                            <Setter Property="Template">
                                                <Setter.Value>
                                                    <ControlTemplate TargetType="TextBox">
                                                        <Border Background="{TemplateBinding Background}"
                                                              BorderBrush="{TemplateBinding BorderBrush}"
                                                              BorderThickness="{TemplateBinding BorderThickness}"
                                                              CornerRadius="6">
                                                            <ScrollViewer x:Name="PART_ContentHost"
                                                                        Margin="{TemplateBinding Padding}"
                                                                        VerticalAlignment="Center"/>
                                                        </Border>
                                                    </ControlTemplate>
                                                </Setter.Value>
                                            </Setter>
                                        </Style>
                                    </TextBox.Style>
                                </TextBox>
                            </StackPanel>
                        </Border>
                    </Grid>
                </Border>
                
                <!-- Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø© ÙˆØ§Ù„ÙØ±Ù‚ -->
                <Border Background="White" CornerRadius="12" Padding="20" Margin="0,0,0,20" BorderBrush="#E2E8F0" BorderThickness="1">
                    <Border.Effect>
                        <DropShadowEffect Color="Black" BlurRadius="8" ShadowDepth="0" Opacity="0.06"/>
                    </Border.Effect>
                    <StackPanel>
                        <TextBlock Text="âš–ï¸ Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø© Ø¨ÙŠÙ† Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø³Ø¬Ù„ ÙˆØ§Ù„ÙØ¹Ù„ÙŠ" 
                                 FontSize="16" 
                                 FontWeight="SemiBold" 
                                 Foreground="#1E293B"
                                 Margin="0,0,0,15"/>
                        
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            
                            <!-- Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø³Ø¬Ù„ -->
                            <Border Grid.Column="0" Background="#EFF6FF" CornerRadius="10" Padding="15" Margin="0,0,10,0" BorderBrush="#BFDBFE" BorderThickness="1">
                                <StackPanel>
                                    <TextBlock Text="ðŸ“ Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø³Ø¬Ù„" FontSize="12" Foreground="#1E40AF" HorizontalAlignment="Center" Margin="0,0,0,5"/>
                                    <TextBlock FontSize="18" FontWeight="Bold" Foreground="#3B82F6" HorizontalAlignment="Center">
                                        <Run Text="{Binding TotalDayCollection, StringFormat=N2}"/>
                                        <Run Text=" Ø±ÙŠØ§Ù„" FontSize="11" Foreground="#64748B"/>
                                    </TextBlock>
                                </StackPanel>
                            </Border>
                            
                            <!-- Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„ÙØ¹Ù„ÙŠ -->
                            <Border Grid.Column="1" Background="#DCFCE7" CornerRadius="10" Padding="15" Margin="0,0,10,0" BorderBrush="#86EFAC" BorderThickness="1">
                                <StackPanel>
                                    <TextBlock Text="ðŸ’µ Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„ÙØ¹Ù„ÙŠ" FontSize="12" Foreground="#15803D" HorizontalAlignment="Center" Margin="0,0,0,5"/>
                                    <TextBlock FontSize="18" FontWeight="Bold" Foreground="#10B981" HorizontalAlignment="Center">
                                        <Run Text="{Binding ActualCashCollected, StringFormat=N2}"/>
                                        <Run Text=" Ø±ÙŠØ§Ù„" FontSize="11" Foreground="#64748B"/>
                                    </TextBlock>
                                </StackPanel>
                            </Border>
                            
                            <!-- Ø§Ù„ÙØ±Ù‚ -->
                            <Border Grid.Column="2" CornerRadius="10" Padding="15" BorderThickness="1">
                                <Border.Style>
                                    <Style TargetType="Border">
                                        <Setter Property="Background" Value="#F3F4F6"/>
                                        <Setter Property="BorderBrush" Value="#D1D5DB"/>
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding HasDifference}" Value="True">
                                                <Setter Property="Background" Value="#FEF2F2"/>
                                                <Setter Property="BorderBrush" Value="#FCA5A5"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Border.Style>
                                <StackPanel>
                                    <TextBlock Text="âš ï¸ Ø§Ù„ÙØ±Ù‚" FontSize="12" HorizontalAlignment="Center" Margin="0,0,0,5">
                                        <TextBlock.Style>
                                            <Style TargetType="TextBlock">
                                                <Setter Property="Foreground" Value="#6B7280"/>
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding HasDifference}" Value="True">
                                                        <Setter Property="Foreground" Value="#991B1B"/>
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </TextBlock.Style>
                                    </TextBlock>
                                    <TextBlock FontSize="18" FontWeight="Bold" HorizontalAlignment="Center">
                                        <TextBlock.Style>
                                            <Style TargetType="TextBlock">
                                                <Setter Property="Foreground" Value="#6B7280"/>
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding HasDifference}" Value="True">
                                                        <Setter Property="Foreground" Value="#EF4444"/>
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </TextBlock.Style>
                                        <Run Text="{Binding Difference, StringFormat=N2}"/>
                                        <Run Text=" Ø±ÙŠØ§Ù„" FontSize="11" Foreground="#64748B"/>
                                    </TextBlock>
                                </StackPanel>
                            </Border>
                        </Grid>
                        
                        <!-- Ø±Ø³Ø§Ù„Ø© ØªÙ†Ø¨ÙŠÙ‡ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ ÙØ±Ù‚ -->
                        <Border Margin="0,15,0,0" Visibility="{Binding HasDifference, Converter={StaticResource BooleanToVisibilityConverter}}">
                            <Border Background="#FEF2F2" CornerRadius="8" Padding="12" BorderBrush="#FCA5A5" BorderThickness="1">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="âš ï¸" FontSize="16" Margin="0,0,8,0" VerticalAlignment="Center"/>
                                    <TextBlock FontSize="13" Foreground="#991B1B" TextWrapping="Wrap">
                                        <Run Text="ØªÙ†Ø¨ÙŠÙ‡: ÙŠÙˆØ¬Ø¯ ÙØ±Ù‚ Ø¨ÙŠÙ† Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø³Ø¬Ù„ ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù… ÙˆØ§Ù„Ù…Ø¨Ù„Øº Ø§Ù„ÙØ¹Ù„ÙŠ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹. ÙŠØ±Ø¬Ù‰ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„ØªØ­ØµÙŠÙ„Ø§Øª."/>
                                    </TextBlock>
                                </StackPanel>
                            </Border>
                        </Border>
                    </StackPanel>
                </Border>
                
                <!-- Ø¬Ø¯ÙˆÙ„ Ø§Ù„ØªÙØ§ØµÙŠÙ„ -->
                <Border Background="White" CornerRadius="12" Padding="20" BorderBrush="#E2E8F0" BorderThickness="1">
                    <Border.Effect>
                        <DropShadowEffect Color="Black" BlurRadius="8" ShadowDepth="0" Opacity="0.06"/>
                    </Border.Effect>
                    <StackPanel>
                        <TextBlock Text="ðŸ“‹ ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØªØ­ØµÙŠÙ„"
                                 FontSize="16"
                                 FontWeight="SemiBold"
                                 Foreground="#1E293B"
                                 Margin="0,0,0,15"/>
                        
                        <DataGrid ItemsSource="{Binding SummaryItems}"
                                AutoGenerateColumns="False"
                                IsReadOnly="True"
                                HeadersVisibility="Column"
                                GridLinesVisibility="None"
                                Background="White"
                                RowBackground="White"
                                AlternatingRowBackground="#F8FAFC"
                                CanUserResizeRows="False"
                                SelectionMode="Single"
                                MinHeight="400"
                                Style="{StaticResource ModernDataGrid}">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="Ø§Ù„Ø¹Ø¶Ùˆ" 
                                                    Binding="{Binding MemberName}" 
                                                    Width="*" MinWidth="150"/>
                                <DataGridTextColumn Header="Ø§Ù„Ù…Ø·Ù„ÙˆØ¨" 
                                                    Binding="{Binding ExpectedAmount, StringFormat=N2}" 
                                                    Width="Auto" MinWidth="100"/>
                                <DataGridTextColumn Header="Ø§Ù„Ù…Ø¯ÙÙˆØ¹" 
                                                    Binding="{Binding PaidAmount, StringFormat=N2}" 
                                                    Width="Auto" MinWidth="100">
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="Foreground" Value="#10B981"/>
                                            <Setter Property="FontWeight" Value="SemiBold"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Header="Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ" 
                                                    Binding="{Binding RemainingAmount, StringFormat=N2}" 
                                                    Width="Auto" MinWidth="100">
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="Foreground" Value="#EF4444"/>
                                            <Setter Property="FontWeight" Value="SemiBold"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Header="Ø§Ù„Ø­Ø§Ù„Ø©" 
                                                    Binding="{Binding Status}" 
                                                    Width="Auto" MinWidth="100">
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsPaid}" Value="True">
                                                    <Setter Property="Foreground" Value="#10B981"/>
                                                    <Setter Property="FontWeight" Value="Bold"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding IsPaid}" Value="False">
                                                    <Setter Property="Foreground" Value="#EF4444"/>
                                                    <Setter Property="FontWeight" Value="Bold"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Header="Ù†ÙˆØ¹ Ø§Ù„Ø¯ÙØ¹" 
                                                    Binding="{Binding PaymentType}" 
                                                    Width="Auto" MinWidth="100"/>
                                <DataGridTextColumn Header="Ù…Ù„Ø§Ø­Ø¸Ø§Øª" 
                                                    Binding="{Binding Notes}" 
                                                    Width="*" MinWidth="150"/>
                            </DataGrid.Columns>
                        </DataGrid>
                    </StackPanel>
                </Border>
                
                <!-- Ù…Ù„Ø§Ø­Ø¸Ø© ØªÙˆØ¶ÙŠØ­ÙŠØ© -->
                <Border Background="#F0F9FF" CornerRadius="12" Padding="15" BorderBrush="#BAE6FD" BorderThickness="1">
                    <StackPanel>
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                            <TextBlock Text="â„¹ï¸" FontSize="18" Margin="0,0,8,0"/>
                            <TextBlock Text="Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù‡Ø§Ù…Ø© Ø­ÙˆÙ„ Ø§Ù„ØªØ­ØµÙŠÙ„Ø§Øª" FontSize="13" FontWeight="Bold" Foreground="#0369A1"/>
                        </StackPanel>
                        <StackPanel>
                            <TextBlock TextWrapping="Wrap" Foreground="#0C4A6E" FontSize="11" Margin="0,0,0,4">
                                <Run Text="â€¢ Ø§Ù„ØªØ­ØµÙŠÙ„ Ø§Ù„ÙŠÙˆÙ…ÙŠ:" FontWeight="Bold"/>
                                <Run Text="Ø¯ÙØ¹Ø§Øª Ø§Ù„ÙŠÙˆÙ… ÙÙ‚Ø· (Ù…Ø®Ø²Ù†Ø© ÙÙŠ DailyCollections.AmountPaid)"/>
                            </TextBlock>
                            <TextBlock TextWrapping="Wrap" Foreground="#0C4A6E" FontSize="11" Margin="0,0,0,4">
                                <Run Text="â€¢ Ø³Ø¯Ø§Ø¯ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø§Øª:" FontWeight="Bold"/>
                                <Run Text="Ù…Ù†ÙØµÙ„ ØªÙ…Ø§Ù…Ø§Ù‹ (Ù…Ø®Ø²Ù† ÙÙŠ Ø¬Ø¯ÙˆÙ„ AccumulatedArrearPayments)"/>
                            </TextBlock>
                            <TextBlock TextWrapping="Wrap" Foreground="#0C4A6E" FontSize="11">
                                <Run Text="â€¢ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:" FontWeight="Bold"/>
                                <Run Text="Ø§Ù„ØªØ­ØµÙŠÙ„ Ø§Ù„ÙŠÙˆÙ…ÙŠ + Ø§Ù„Ù…ØªØ£Ø®Ø±Ø§Øª + Ø§Ù„Ø³Ø§Ø¨Ù‚Ø§Øª = Ø§Ù„Ù…Ø¨Ù„Øº ÙÙŠ ÙŠØ¯Ùƒ"/>
                            </TextBlock>
                        </StackPanel>
                    </StackPanel>
                </Border>
                
            </StackPanel>
        </ScrollViewer>
    </Grid>
</UserControl>
