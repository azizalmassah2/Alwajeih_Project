<UserControl
  x:Class="Alwajeih.Views.Finance.ReconciliationView"
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:vm="clr-namespace:Alwajeih.ViewModels.Finance"
  FlowDirection="RightToLeft"
  FontFamily="{StaticResource Tajawal}"
  FontSize="14"
>
  <UserControl.DataContext>
    <vm:ReconciliationViewModel />
  </UserControl.DataContext>
  <UserControl.Resources>
    <ResourceDictionary>
      <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="/Resources/Styles/ScrollBarStyles.xaml" />
        <ResourceDictionary Source="/Resources/Styles/DataGrids.xaml" />
        <ResourceDictionary Source="/Resources/Styles/Colors.xaml" />
        <ResourceDictionary Source="/Resources/Styles/Buttons.xaml" />
        <ResourceDictionary Source="/Resources/Styles/TextBoxes.xaml" />
        <ResourceDictionary Source="/Resources/Styles/MainStyles.xaml" />
      </ResourceDictionary.MergedDictionaries>
    </ResourceDictionary>
  </UserControl.Resources>
  <Grid Background="#F8FAFC">
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto" />
      <RowDefinition Height="*" />
    </Grid.RowDefinitions>
    
    <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
    <Grid Grid.Row="0" Grid.RowSpan="2" Background="White">
          <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
          </Grid.RowDefinitions>
          
          <!-- Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ†Ù‚Ù„ -->
          <Border Grid.Row="0" Background="#F8FAFC" Padding="20,15" BorderBrush="#E2E8F0" BorderThickness="0,0,0,1">
            <Grid>
              <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
              </Grid.ColumnDefinitions>
              
              <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªÙ†Ù‚Ù„ -->
              <StackPanel Grid.Column="0" Orientation="Horizontal" Margin="0,0,20,0">
                <Button Command="{Binding PreviousWeekCommand}"
                        Style="{StaticResource SecondaryButton}"
                        Width="40"
                        Height="40"
                        Margin="0,0,5,0">
                  <TextBlock Text="â—„" FontSize="16" FontWeight="Bold"/>
                </Button>
                <Border Background="#EEF2FF" 
                        CornerRadius="8" 
                        Padding="15,10"
                        BorderBrush="#C7D2FE"
                        BorderThickness="1"
                        Margin="0,0,5,0">
                  <TextBlock FontSize="16" FontWeight="Bold" Foreground="#3B82F6">
                    <Run Text="Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹"/>
                    <Run Text="{Binding SelectedWeek}"/>
                  </TextBlock>
                </Border>
                <Button Command="{Binding NextWeekCommand}"
                        Style="{StaticResource SecondaryButton}"
                        Width="40"
                        Height="40">
                  <TextBlock Text="â–º" FontSize="16" FontWeight="Bold"/>
                </Button>
              </StackPanel>
              
              <!-- Ø§Ù„Ø¹Ù†ÙˆØ§Ù† -->
              <StackPanel Grid.Column="1" VerticalAlignment="Center">
                <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                  <TextBlock Text="ðŸ“Š" FontSize="24" Margin="0,0,10,0" VerticalAlignment="Center"/>
                  <TextBlock Text="Ø§Ù„Ø¬Ø±Ø¯ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ" 
                           FontSize="22" 
                           FontWeight="Bold"
                           Foreground="#1E293B"
                           VerticalAlignment="Center"/>
                  
                  <!-- Ø²Ø± Ø¥Ø¶Ø§ÙØ© Ø®Ø±Ø¬ÙŠØ§Øª -->
                  <Button Command="{Binding AddOtherTransactionCommand}"
                          Background="#F59E0B"
                          Foreground="White"
                          Padding="12,6"
                          Margin="15,0,0,0"
                          BorderThickness="0"
                          Cursor="Hand"
                          ToolTip="Ø¥Ø¶Ø§ÙØ© Ø®Ø±Ø¬ÙŠØ§Øª ÙˆÙ…ÙÙ‚ÙˆØ¯Ø§Øª">
                    <StackPanel Orientation="Horizontal">
                      <TextBlock Text="ðŸ’¸" FontSize="14" Margin="0,0,5,0"/>
                      <TextBlock Text="Ø¥Ø¶Ø§ÙØ© Ø®Ø±Ø¬ÙŠØ§Øª" FontSize="12" FontWeight="SemiBold"/>
                    </StackPanel>
                    <Button.Style>
                      <Style TargetType="Button">
                        <Setter Property="Template">
                          <Setter.Value>
                            <ControlTemplate TargetType="Button">
                              <Border Background="{TemplateBinding Background}"
                                     CornerRadius="6"
                                     Padding="{TemplateBinding Padding}">
                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                              </Border>
                            </ControlTemplate>
                          </Setter.Value>
                        </Setter>
                        <Style.Triggers>
                          <Trigger Property="IsMouseOver" Value="True">
                            <Setter Property="Background" Value="#D97706"/>
                          </Trigger>
                          <Trigger Property="IsEnabled" Value="False">
                            <Setter Property="Background" Value="#9CA3AF"/>
                            <Setter Property="Cursor" Value="No"/>
                          </Trigger>
                        </Style.Triggers>
                      </Style>
                    </Button.Style>
                  </Button>
                </StackPanel>
                <TextBlock Text="Ø¬Ø±Ø¯ Ø´Ø§Ù…Ù„ Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ù…Ø§Ù„ÙŠØ©" 
                         FontSize="13" 
                         Foreground="#64748B"/>
              </StackPanel>
              
              <!-- Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ -->
              <Border Grid.Column="2"
                      Background="#DCFCE7"
                      CornerRadius="10"
                      Padding="15,10"
                      BorderBrush="#86EFAC"
                      BorderThickness="1">
                <StackPanel>
                  <TextBlock Text="ðŸ’° Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ" 
                           FontSize="12" 
                           Foreground="#15803D"
                           FontWeight="Medium"
                           TextAlignment="Center"/>
                  <TextBlock FontSize="18" 
                           FontWeight="Bold"
                           Foreground="#10B981"
                           TextAlignment="Center"
                           Margin="0,4,0,0">
                    <Run Text="{Binding FinalBalance, StringFormat=N2}"/>
                    <Run Text=" Ø±ÙŠØ§Ù„" FontSize="12" Foreground="#64748B"/>
                  </TextBlock>
                </StackPanel>
              </Border>
            </Grid>
          </Border>
          
          <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ -->
          <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" Style="{StaticResource ModernScrollViewer}">
            <StackPanel Margin="20">
              
              <!-- Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª - Ø§Ù„ØµÙ Ø§Ù„Ø£ÙˆÙ„ -->
              <Grid Margin="0,0,0,15">
                <Grid.ColumnDefinitions>
                  <ColumnDefinition Width="*"/>
                  <ColumnDefinition Width="*"/>
                  <ColumnDefinition Width="*"/>
                  <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <!-- Ø§Ù„ÙˆØ§Ø±Ø¯Ø§Øª -->
                <Border Grid.Column="0" Background="White" CornerRadius="12" Padding="20" Margin="0,0,10,0" BorderBrush="#E2E8F0" BorderThickness="1">
                  <Border.Effect>
                    <DropShadowEffect Color="Black" BlurRadius="8" ShadowDepth="0" Opacity="0.06"/>
                  </Border.Effect>
                  <StackPanel>
                    <TextBlock Text="âœ…" FontSize="24" HorizontalAlignment="Center" Margin="0,0,0,10"/>
                    <TextBlock Text="Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚" FontSize="14" Foreground="#64748B" HorizontalAlignment="Center" Margin="0,0,0,5"/>
                    <TextBlock Text="{Binding TotalIncome, StringFormat=N2}" 
                             FontSize="20" 
                             FontWeight="Bold" 
                             Foreground="#10B981" 
                             HorizontalAlignment="Center"/>
                  </StackPanel>
                </Border>
                
                <!-- Ø§Ù„Ù…Ø³ØªØ­Ù‚Ø§Øª -->
                <Border Grid.Column="1" Background="White" CornerRadius="12" Padding="20" Margin="0,0,10,0" BorderBrush="#E2E8F0" BorderThickness="1">
                  <Border.Effect>
                    <DropShadowEffect Color="Black" BlurRadius="8" ShadowDepth="0" Opacity="0.06"/>
                  </Border.Effect>
                  <StackPanel>
                    <TextBlock Text="â³" FontSize="24" HorizontalAlignment="Center" Margin="0,0,0,10"/>
                    <TextBlock Text="Ø§Ù„Ù…Ø³ØªØ­Ù‚Ø§Øª" FontSize="14" Foreground="#64748B" HorizontalAlignment="Center" Margin="0,0,0,5"/>
                    <TextBlock Text="{Binding TotalDues, StringFormat=N2}" 
                             FontSize="20" 
                             FontWeight="Bold" 
                             Foreground="#F59E0B" 
                             HorizontalAlignment="Center"/>
                  </StackPanel>
                </Border>
                
                <!-- Ø§Ù„Ù…ØªØ£Ø®Ø±Ø§Øª -->
                <Border Grid.Column="2" Background="White" CornerRadius="12" Padding="20" Margin="0,0,10,0" BorderBrush="#E2E8F0" BorderThickness="1">
                  <Border.Effect>
                    <DropShadowEffect Color="Black" BlurRadius="8" ShadowDepth="0" Opacity="0.06"/>
                  </Border.Effect>
                  <StackPanel>
                    <TextBlock Text="âš ï¸" FontSize="24" HorizontalAlignment="Center" Margin="0,0,0,10"/>
                    <TextBlock Text="Ø§Ù„Ù…ØªØ£Ø®Ø±Ø§Øª" FontSize="14" Foreground="#64748B" HorizontalAlignment="Center" Margin="0,0,0,5"/>
                    <TextBlock Text="{Binding TotalArrears, StringFormat=N2}" 
                             FontSize="20" 
                             FontWeight="Bold" 
                             Foreground="#EF4444" 
                             HorizontalAlignment="Center"/>
                  </StackPanel>
                </Border>
                
                <!-- Ø§Ù„Ø³Ø§Ø¨Ù‚Ø§Øª -->
                <Border Grid.Column="3" Background="White" CornerRadius="12" Padding="20" BorderBrush="#E2E8F0" BorderThickness="1">
                  <Border.Effect>
                    <DropShadowEffect Color="Black" BlurRadius="8" ShadowDepth="0" Opacity="0.06"/>
                  </Border.Effect>
                  <StackPanel>
                    <TextBlock Text="ðŸ’°" FontSize="24" HorizontalAlignment="Center" Margin="0,0,0,10"/>
                    <TextBlock Text="Ø§Ù„Ø³Ø§Ø¨Ù‚Ø§Øª" FontSize="14" Foreground="#64748B" HorizontalAlignment="Center" Margin="0,0,0,5"/>
                    <TextBlock Text="{Binding TotalPreviousArrears, StringFormat=N2}" 
                             FontSize="20" 
                             FontWeight="Bold" 
                             Foreground="#3B82F6" 
                             HorizontalAlignment="Center"/>
                  </StackPanel>
                </Border>
              </Grid>
              
              <!-- Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª - Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù†ÙŠ -->
              <Grid Margin="0,0,0,20">
                <Grid.ColumnDefinitions>
                  <ColumnDefinition Width="*"/>
                  <ColumnDefinition Width="*"/>
                  <ColumnDefinition Width="*"/>
                  <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <!-- Ø¹Ø¯Ø¯ Ø§Ù„ØªØ­ØµÙŠÙ„Ø§Øª -->
                <Border Grid.Column="0" Background="White" CornerRadius="12" Padding="20" Margin="0,0,10,0" BorderBrush="#E2E8F0" BorderThickness="1">
                  <Border.Effect>
                    <DropShadowEffect Color="Black" BlurRadius="8" ShadowDepth="0" Opacity="0.06"/>
                  </Border.Effect>
                  <StackPanel>
                    <TextBlock Text="ðŸ“Š" FontSize="24" HorizontalAlignment="Center" Margin="0,0,0,10"/>
                    <TextBlock Text="Ø¹Ø¯Ø¯ Ø§Ù„ØªØ­ØµÙŠÙ„Ø§Øª" FontSize="14" Foreground="#64748B" HorizontalAlignment="Center" Margin="0,0,0,5"/>
                    <TextBlock Text="{Binding CollectionsCount}" 
                             FontSize="20" 
                             FontWeight="Bold" 
                             Foreground="#3B82F6" 
                             HorizontalAlignment="Center"/>
                  </StackPanel>
                </Border>
                
                <!-- Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ø³Ø§Ø¨Ù‚ -->
                <Border Grid.Column="1" Background="White" CornerRadius="12" Padding="20" Margin="0,0,10,0" BorderBrush="#E2E8F0" BorderThickness="1">
                  <Border.Effect>
                    <DropShadowEffect Color="Black" BlurRadius="8" ShadowDepth="0" Opacity="0.06"/>
                  </Border.Effect>
                  <StackPanel>
                    <TextBlock Text="ðŸ¦" FontSize="24" HorizontalAlignment="Center" Margin="0,0,0,10"/>
                    <TextBlock Text="Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ø³Ø§Ø¨Ù‚" FontSize="14" Foreground="#64748B" HorizontalAlignment="Center" Margin="0,0,0,5"/>
                    <TextBlock Text="{Binding PreviousBalance, StringFormat=N2}" 
                             FontSize="20" 
                             FontWeight="Bold" 
                             Foreground="#8B5CF6" 
                             HorizontalAlignment="Center"/>
                  </StackPanel>
                </Border>
                
                <!-- Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª -->
                <Border Grid.Column="2" Background="White" CornerRadius="12" Padding="20" Margin="0,0,10,0" BorderBrush="#E2E8F0" BorderThickness="1">
                  <Border.Effect>
                    <DropShadowEffect Color="Black" BlurRadius="8" ShadowDepth="0" Opacity="0.06"/>
                  </Border.Effect>
                  <StackPanel>
                    <TextBlock Text="ðŸ’¸" FontSize="24" HorizontalAlignment="Center" Margin="0,0,0,10"/>
                    <TextBlock Text="Ø§Ù„Ø®Ø±Ø¬ÙŠØ§Øª" FontSize="14" Foreground="#64748B" HorizontalAlignment="Center" Margin="0,0,0,5"/>
                    <TextBlock Text="{Binding TotalExpenses, StringFormat=N2}" 
                             FontSize="20" 
                             FontWeight="Bold" 
                             Foreground="#EC4899" 
                             HorizontalAlignment="Center"/>
                  </StackPanel>
                </Border>
                
                <!-- Ø§Ù„Ø³Ø­ÙˆØ¨Ø§Øª -->
                <Border Grid.Column="3" Background="White" CornerRadius="12" Padding="20" BorderBrush="#E2E8F0" BorderThickness="1">
                  <Border.Effect>
                    <DropShadowEffect Color="Black" BlurRadius="8" ShadowDepth="0" Opacity="0.06"/>
                  </Border.Effect>
                  <StackPanel>
                    <TextBlock Text="ðŸ“¤" FontSize="24" HorizontalAlignment="Center" Margin="0,0,0,10"/>
                    <TextBlock Text="Ø§Ù„Ø³Ø­ÙˆØ¨Ø§Øª" FontSize="14" Foreground="#64748B" HorizontalAlignment="Center" Margin="0,0,0,5"/>
                    <TextBlock Text="{Binding TotalWithdrawals, StringFormat=N2}" 
                             FontSize="20" 
                             FontWeight="Bold" 
                             Foreground="#F59E0B" 
                             HorizontalAlignment="Center"/>
                  </StackPanel>
                </Border>
              </Grid>
              
              <!-- Ø§Ù„Ø¬Ø±Ø¯ Ø§Ù„Ù‚Ø¯ÙŠÙ… ÙˆØ§Ù„Ø¬Ø¯ÙŠØ¯ -->
              <Grid Margin="0">
                <Grid.ColumnDefinitions>
                  <ColumnDefinition Width="*" MinWidth="150" />
                  <ColumnDefinition Width="380" />
                </Grid.ColumnDefinitions>
          <Border
            Grid.Column="0"
            Background="White"
            CornerRadius="12" Padding="20"
            Margin="0,0,15,0"
          >
            <Border.Effect>
              <DropShadowEffect Color="Black" BlurRadius="8" ShadowDepth="0" Opacity="0.08" />
            </Border.Effect>
            <StackPanel>
              <TextBlock
                Text="ðŸ“œ Ø³Ø¬Ù„ Ø§Ù„Ø¬Ø±Ø¯ Ø§Ù„Ø³Ø§Ø¨Ù‚"
                FontSize="16"
                FontWeight="SemiBold"
                Foreground="#1E293B"
                Margin="0,0,0,12"
              />
              <Border CornerRadius="8" BorderBrush="#E2E8F0" BorderThickness="1" Background="White" Margin="0,0,0,0">
                <DataGrid
                  ItemsSource="{Binding PreviousReconciliations}"
                  Height="560"
                  AutoGenerateColumns="False"
                  IsReadOnly="True"
                  Style="{StaticResource ModernDataGrid}"
                >
                  <DataGrid.Columns>
                    <DataGridTextColumn
                      Header="Ù…Ù†"
                      Binding="{Binding WeekStartDate, StringFormat=yyyy-MM-dd}"
                      Width="Auto" MinWidth="80"
                    />
                    <DataGridTextColumn
                      Header="Ø¥Ù„Ù‰"
                      Binding="{Binding WeekEndDate, StringFormat=yyyy-MM-dd}"
                      Width="Auto" MinWidth="80"
                    />
                    <DataGridTextColumn
                      Header="Ø§Ù„Ù…ØªÙˆÙ‚Ø¹"
                      Binding="{Binding ExpectedAmount, StringFormat=N2}"
                      Width="*" MinWidth="150"
                    />
                    <DataGridTextColumn
                      Header="Ø§Ù„ÙØ¹Ù„ÙŠ"
                      Binding="{Binding ActualAmount, StringFormat=N2}"
                      Width="*" MinWidth="150"
                    />
                    <DataGridTextColumn
                      Header="Ø§Ù„ÙØ±Ù‚"
                      Binding="{Binding Difference, StringFormat=N2}"
                      Width="*" MinWidth="150"
                    />
                  </DataGrid.Columns>
                </DataGrid>
              </Border>
            </StackPanel>
          </Border>
          <Border Grid.Column="1" Background="White" CornerRadius="12" Padding="20">
            <Border.Effect>
              <DropShadowEffect Color="Black" BlurRadius="8" ShadowDepth="0" Opacity="0.08" />
            </Border.Effect>
            <StackPanel>
              <TextBlock
                Text="ðŸŽ¯ Ø§Ù„Ø¬Ø±Ø¯ Ø§Ù„Ø­Ø§Ù„ÙŠ"
                FontSize="16"
                FontWeight="SemiBold"
                Foreground="#1E293B"
                Margin="0,0,0,12"
              />
              
              <!-- Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ -->
              <TextBlock Text="Ø±Ù‚Ù… Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ *" Style="{StaticResource FieldLabel}" Margin="0,0,0,5" />
              <ComboBox
                ItemsSource="{Binding Weeks}"
                SelectedItem="{Binding SelectedWeek}"
                Style="{StaticResource ModernComboBox}"
                FontSize="16"
                Height="45"
                Margin="0,0,0,15"
              />
              
              <Border
                Background="#F8FAFC"
                BorderBrush="#E2E8F0"
                BorderThickness="1"
                CornerRadius="12"
                Padding="16"
                Margin="0,0,0,15"
              >
                <StackPanel>
                  <TextBlock FontWeight="SemiBold" Margin="0,0,0,10">
                    <Run Text="ðŸ“… Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ " />
                    <Run Text="{Binding SelectedWeek}" Foreground="#2563EB" />
                  </TextBlock>
                  <TextBlock>
                    <Run Text="Ù…Ù†: " />
                    <Run Text="{Binding WeekStart, StringFormat=yyyy-MM-dd}" FontWeight="Bold" />
                  </TextBlock>
                  <TextBlock Margin="0,5,0,0">
                    <Run Text="Ø¥Ù„Ù‰: " />
                    <Run Text="{Binding WeekEnd, StringFormat=yyyy-MM-dd}" FontWeight="Bold" />
                  </TextBlock>
                </StackPanel>
              </Border>
              <Button
                Content="ðŸ”¢ Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…ØªÙˆÙ‚Ø¹"
                Command="{Binding CalculateCommand}"
                Background="#2563EB"
                Foreground="White"
                BorderThickness="0"
                Padding="16,12"
                FontWeight="Medium"
                Cursor="Hand"
                Margin="0,0,0,15"
                Height="48"
              >
                <Button.Resources>
                  <Style TargetType="Border">
                    <Setter Property="CornerRadius" Value="8" />
                  </Style>
                </Button.Resources>
              </Button>
              <Border
                Background="#EFF6FF"
                BorderBrush="#DBEAFE"
                BorderThickness="1"
                CornerRadius="12"
                Padding="16"
                Margin="0,0,0,15"
              >
                <StackPanel>
                  <TextBlock
                    Text="ðŸ’° Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…ØªÙˆÙ‚Ø¹"
                    FontSize="12"
                    Foreground="{StaticResource TextSecondaryColor}"
                  />
                  <TextBlock
                    FontSize="24"
                    FontWeight="Bold"
                    Foreground="{StaticResource GoldColor}"
                    Margin="0,5,0,0"
                  >
                    <Run Text="{Binding ExpectedAmount, StringFormat=N2}" />
                    <Run Text="Ø±ÙŠØ§Ù„" />
                  </TextBlock>
                </StackPanel>
              </Border>
              <TextBlock Text="Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„ÙØ¹Ù„ÙŠ *" Style="{StaticResource FieldLabel}" />
              <TextBox
                Text="{Binding ActualAmount}"
                Style="{StaticResource ModernTextBox}"
                FontSize="16"
                Height="50"
                Margin="0,0,0,15"
              />
              <Border
                Background="{StaticResource Card3Color}"
                CornerRadius="10"
                Padding="15"
                Margin="0,0,0,15"
              >
                <StackPanel>
                  <TextBlock
                    Text="ðŸ“Š Ø§Ù„ÙØ±Ù‚"
                    FontSize="12"
                    Foreground="{StaticResource TextSecondaryColor}"
                  />
                  <TextBlock FontSize="22" FontWeight="Bold" Margin="0,5,0,0">
                    <Run Text="{Binding Difference, StringFormat=N2}" />
                    <Run Text="Ø±ÙŠØ§Ù„" />
                  </TextBlock>
                </StackPanel>
              </Border>
              <TextBlock Text="Ù…Ù„Ø§Ø­Ø¸Ø§Øª" Style="{StaticResource FieldLabel}" />
              <TextBox
                Text="{Binding Notes}"
                Style="{StaticResource ModernTextBox}"
                Height="70"
                TextWrapping="Wrap"
                AcceptsReturn="True"
                Margin="0,0,0,20"
              />
              <Button
                Command="{Binding SubmitCommand}"
                Style="{StaticResource SuccessButton}"
                Height="55"
              >
                <StackPanel Orientation="Horizontal">
                  <TextBlock Text="âœ…" FontSize="18" Margin="0,0,10,0" />
                  <TextBlock Text="Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø¬Ø±Ø¯ ÙˆØ§Ù„ØªØ±Ø­ÙŠÙ„" FontSize="15" />
                </StackPanel>
              </Button>
            </StackPanel>
          </Border>
              </Grid>
            </StackPanel>
          </ScrollViewer>
    </Grid>
  </Grid>
</UserControl>
